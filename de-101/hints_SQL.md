# PostgreSQL через клент DBeaver

## Создание таблицы с названием *Example_1* 
Столбцы *Col_1* и *Col_2*, **Col_3*. 

В *Col_1* - текстовые данные, в *Col_2* - числовые, в *Col_3* - дата. В строки добавляем некоторые значения (для цифр - без кавычек, для дат и букв - в одинарных кавычках).

**Важно**, чтобы внтри текта не было верхних одиночных кавычек, а в цифрах разделитель был в виде точки.
```
DROP TABLE IF EXISTS Example_1
create TABLE Example_1(
    Col_1 varchar (5) not null primary key --этот столбец будет содержать текст длиной не более 5 символов
    Col_2 integer not null -- тут будет целочисленное значение
    Col_3 date not null -- тут будет дата (ГГГГ.ММ.ДД)
);
INSERT INTO Example_1(Col_1, Col_2, Col_3) values ('data1', 5, '11.08.2024') -- добавление одной строчки в таблицу
```
[Вот тут](https://oracleplsql.ru/data-types-postgresql.html) подробней про типы переменных SQL

## Создание запросов из таблицы
Сначала выбираем стобцы, с котоырми будем работать, потом по каким значениям группировать/сортировать
```
select 
    Col_1, -- данные из столбца Col_1
    avg(Col_2) as av_col_2, -- среднее по столбцу Col_2 (сумма - sum())
    extract (month from Col_3) as month_num -- месяц из столбца Col_3
-- после as - название нового столбца в итоговой выгрузке
from Example_1 --источник, где эти столбцы стоят
group by month_num, Col_1  -- группировать по выбранному столбцу, перечисление через запятую
order by month_num asc --сортировать в восходящем порядке (desc - в нисходящем)
```
В результате получим новую таблицу сгруппированную по месяцам из *Col_3* и данным из столбца *Col_1* и результирующими средними цифрами из *Col_2*